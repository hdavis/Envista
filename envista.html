<!DOCTYPE html>
<html>

<head>
  <title>Envista Construction Projects Map</title>
  <link data-require="leaflet@*" data-semver="0.7.3" rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.css" />
  <script data-require="leaflet@*" data-semver="0.7.3" src="//cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.3/leaflet.js"></script>
  <script data-require="angular.js@1.4.1" data-semver="1.4.1" src="https://code.angularjs.org/1.4.1/angular.js"></script>
  <script data-require="angular-leaflet-directive@*" data-semver="0.7.15" src="angular-leaflet/angular-leaflet-directive.min.js"></script>
  <script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/leaflet.markercluster.js'></script>
  <link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/MarkerCluster.css' rel='stylesheet' />
  <link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/MarkerCluster.Default.css' rel='stylesheet' />
  <link rel="stylesheet" href="envista.css" />
  <script src="envista.js"></script>
</head>

<body ng-app="app" ng-controller="MapController">
  <h1>San Francisco Construction Projects</h1>
  <h3>(Preliminary Map)</h3>
  <!-- <leaflet markers="markers" center="SanFrancisco" events="events" legend="legend" style="height: 540px; width: 700px ;" geojson="geojson"></leaflet> -->
  <leaflet markers="markers" center="SanFrancisco" events="events" legend="legend" style="height: 540px; width: 100% ;" geojson="geojson"></leaflet>
    <div>
        <h2>Project Objective</h2>
        <p>The goal of the Envista Mapping App is to map the City of San Francisco's Envista construction projects using data from the City's <a href ="https://data.sfgov.org/">Open Data portal</a>.</p>
    </div>
    <div>
      <h2>How to Interact with This Map</h2>
        <p>This map uses a clustering algorithm which shows a single symbol (an orange, yellow or green circle) to represent multiple data points (a.k.a. markers).  The number inside the circle tells how many data points/markers the circle represents.  If you zoom in or click on one of the circles, the map will expand to show more circles and markers.  </p>

        <p>To access information on a single construction project, click on the colored marker for that project and a popup will display showing pertinent details.  </p>

        <h4>The marker colors denote the project's status:</h4>

        <ul>
        <li>Red = Started</li>
        <li>Dark Blue = Committed</li>
        <li>Purple = Planned</li>
        <li>Cyan = Completed</li>
        </ul>
    </div>
    <div>
      <h2>Future Improvements</h2>
      <ul>
          <li>Since the map takes a few seconds to load, add a spinning animation during this loading period.</li>
          <li>Consider using a base map that is visually simpler; perhaps a dark map (like Mapbox's dark base map) or a light, grey-scale map (OpenStreetMap Black and White, CartoDB, etc.)</li>
          <li>Possibly add a data viewing panel on the right side of the map similar to how the <a href="http://streetwize.lacity.org/">LA Street Wize</a> site displays data as opposed to the current popups when a user clicks on a point in the map.</li>
          <li>Improve overall site layout, possibly adopt a similar layout to the LA Street Wise site.</li>
          <li>Provide more ways to look at the data by allowing users to:
              <ul><li>query on a given time period and/or make it clearer which projects have started (red markers), which are upcoming (blue and purple markers) and which have been completed (cyan markers)</li>
              <li>see the data by project class (gas, sewer, water, electric, transit, pedestrian safety, storm drain, etc. )</li>
              <li>see the data by project owner (PG&amp;E, SF Public Utilities Commission, SF Municipal Transportation Agency, AT&amp;T, etc.)</li>
              <li>query by address</li></ul></li>
      </ul>
    </div>

</body>

</html>
