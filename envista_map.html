<!DOCTYPE html>
<html>
<head>
	<title>Envista Test Map</title>
	<meta charset="utf-8" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.css" />
	<!--[if lte IE 8]><link rel="stylesheet" href="../dist/leaflet.ie.css" /><![endif]-->
    <style type="text/css">
    html, body, #map{
     height: 100%;
     width: 100%;
     margin: 0;
     padding: 0;
    }
    </style>
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>

    <div id="map"></div>

    <script>
        var map = L.map('map');
        var zoommax = 18;

        // BASEMAPS
        // Additional basemaps @ https://leaflet-extras.github.io/leaflet-providers/preview/

        // MapQuest Aerial Basemap
        var MapQuestOpen_Aerial = L.tileLayer('http://otile{s}.mqcdn.com/tiles/1.0.0/{type}/{z}/{x}/{y}.{ext}', {
        type: 'sat',
        ext: 'jpg',
        attribution: 'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Portions Courtesy NASA/JPL-Caltech and U.S. Depart. of Agriculture, Farm Service Agency',
        subdomains: '1234'
        });
        map.addLayer(MapQuestOpen_Aerial);

        
        // Open Map Surfer Roads Basemap
        var OpenMapSurfer_Roads = L.tileLayer('http://korona.geog.uni-heidelberg.de/tiles/roads/x={x}&y={y}&z={z}', {
        maxZoom: 20,
        attribution: 'Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        });
        map.addLayer(OpenMapSurfer_Roads);


        // OpenStreetMap Black and White basemap
        var OpenStreetMap_BlackAndWhite = L.tileLayer('http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png', {
        maxZoom: 18,
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        });
        map.addLayer(OpenStreetMap_BlackAndWhite);


        // OVERLAYS
 
        // Add maximum temperature data
        var envista_proj = new L.geoJson();
        envista_proj.addTo(map);

        $.ajax({
        dataType: "json",
        url: "envista.geojson",
        success: function(data) {
            $(data.features).each(function(key, data) {
            envista_proj.addData(data);
            });
        }
        }).error(function() {});


        // Define and display the control for Basemaps and Overlays
        var baseLayers = {
            "Map Quest Aerial": MapQuestOpen_Aerial,
            "Open Map Surfer Roads": OpenMapSurfer_Roads,
            "Open Street Map - B&W": OpenStreetMap_BlackAndWhite
        };
        var overlays = {
            "Construction Projects": envista_proj,
        };
        L.control.layers(baseLayers, overlays).addTo(map);

        map.setView([38, -122], 6);
    </script>
</body>
</html>